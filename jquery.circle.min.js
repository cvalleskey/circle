/** @license
 *
 * Circle: Simple rotational loader
 * ---------------------------------------------------------
 *
 * Copyright (c) 2012, Chris Valleskey. All rights reserved.
 * Code provided under the following license:
 * http://creativecommons.org/licenses/by-nc-sa/3.0/
 *
 * V0.1
 */
(function(a){defaults={fillStyle:"#FFF",strokeStyle:"#DC2F64",lineWidth:10,value:0,fade:false};var b={init:function(b){var c=a.extend(defaults,b);return this.each(function(){if(a.browser.msie&&a.browser.version<9)return;var b=a(this).height()+c.lineWidth*2;a(this).after(a("<canvas></canvas>").attr("width",b).attr("height",b));canvas=a(this).parent().find("canvas")[0];var d=canvas.getContext("2d");d.beginPath();d.arc(b/2,b/2,a(this).height()/2,0,2*Math.PI,false);d.fillStyle=c.background;d.fill();if(c.fade){var e=a(this);var f=1;for(var g=1;g<=c.lineWidth;g++){setTimeout(function(){var a=e.parent().find("canvas")[0];var d=a.getContext("2d");d.beginPath();d.arc(b/2,b/2,30+f++,0,2*Math.PI,false);d.fillStyle=c.fillStyle;d.fill()},(5+f*2)*g)}}})},update:function(b){var c=a.extend(defaults,b);return this.each(function(){canvas=a(this).parent().find("canvas")[0];var b=canvas.getContext("2d");var d=canvas.width;canvas.width=canvas.width;b.beginPath();b.arc(d/2,d/2,d/2,0,2*Math.PI,false);b.fillStyle=c.fillStyle;b.fill();b.beginPath();b.arc(d/2,d/2,d/2-c.lineWidth/2-1,Math.PI*-.5,Math.PI*c.value*2+Math.PI*-.5,false);b.strokeStyle=c.strokeStyle;b.lineWidth=c.lineWidth+2;b.stroke()})},destroy:function(b){var c=a.extend(defaults,b);return this.each(function(){a(this).parent().find("canvas").remove()})}};a.fn.circle=function(c){if(b[c]){return b[c].apply(this,Array.prototype.slice.call(arguments,1))}else if(typeof c==="object"||!c){return b.init.apply(this,arguments)}else{a.error("Method "+c+" does not exist on jQuery.equalizr")}}})(jQuery)